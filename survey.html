<!--
Name: Aditya Raj
File: survey.html
Purpose: Student Survey Form for SWE645 Assignment 1
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Student Survey</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        .required-star {
            color: red;
        }
    </style>
</head>

<body class="bg-light">

<!-- Navbar -->
<nav class="navbar navbar-dark bg-dark">
    <div class="container">
        <button class="btn btn-outline-light" onclick="goHome()">Back to Home</button>
    </div>
</nav>

<div class="container mt-5 mb-5">
    <div class="card shadow">
        <div class="card-body">

            <h2 class="mb-4">Student Survey Form</h2>

            <!-- Success Message -->
            <div id="successMessage" class="alert alert-success d-none">
                Thank you! Your survey has been submitted successfully.
            </div>

            <form id="surveyForm" novalidate>

                <!-- Personal Information -->
                <div class="row g-3">

                    <div class="col-md-6">
                        <label class="form-label">
                            First Name <span class="required-star">*</span>
                        </label>
                        <input type="text" name="first_name" class="form-control" required>
                        <div class="invalid-feedback">First name is required.</div>
                    </div>

                    <div class="col-md-6">
                        <label class="form-label">
                            Last Name <span class="required-star">*</span>
                        </label>
                        <input type="text" name="last_name" class="form-control" required>
                        <div class="invalid-feedback">Last name is required.</div>
                    </div>

                    <div class="col-md-12">
                        <label class="form-label">
                            Street Address <span class="required-star">*</span>
                        </label>
                        <input type="text" name="address" class="form-control" required>
                        <div class="invalid-feedback">Street address is required.</div>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label">
                            City <span class="required-star">*</span>
                        </label>
                        <input type="text" name="city" class="form-control" required>
                        <div class="invalid-feedback">City is required.</div>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label">
                            State <span class="required-star">*</span>
                        </label>
                        <input type="text" name="state" class="form-control" required>
                        <div class="invalid-feedback">State is required.</div>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label">
                            Zip <span class="required-star">*</span>
                        </label>
                        <input type="text" name="zip" class="form-control" required>
                        <div class="invalid-feedback">Zip code is required.</div>
                    </div>

                    <div class="col-md-6">
                        <label class="form-label">
                            Telephone <span class="required-star">*</span>
                        </label>
                        <input type="tel" name="telephone" class="form-control" required>
                        <div class="invalid-feedback">Telephone number is required.</div>
                    </div>

                    <div class="col-md-6">
                        <label class="form-label">
                            Email <span class="required-star">*</span>
                        </label>
                        <input type="email" name="email" id="email" class="form-control" required>
                        <div class="invalid-feedback">
                            Please enter a valid email address.
                        </div>
                    </div>

                    <div class="col-md-6">
                        <label class="form-label">
                            Date of Survey <span class="required-star">*</span>
                        </label>
                        <input type="date" name="date" class="form-control" required>
                        <div class="invalid-feedback">Date is required.</div>
                    </div>

                </div>

                <hr>

                <!-- Checkboxes -->
                <label class="fw-bold">What did you like most about the campus?</label>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="likes" value="Students"> Students</div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="likes" value="Location"> Location</div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="likes" value="Campus"> Campus</div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="likes" value="Atmosphere"> Atmosphere</div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="likes" value="Dorm Rooms"> Dorm Rooms</div>
                <div class="form-check"><input class="form-check-input" type="checkbox" name="likes" value="Sports"> Sports</div>

                <hr>

                <!-- Radio Buttons -->
                <label class="fw-bold">How did you become interested in the university?</label>
                <div class="form-check"><input class="form-check-input" type="radio" name="interest" value="Friends"> Friends</div>
                <div class="form-check"><input class="form-check-input" type="radio" name="interest" value="Television"> Television</div>
                <div class="form-check"><input class="form-check-input" type="radio" name="interest" value="Internet"> Internet</div>
                <div class="form-check"><input class="form-check-input" type="radio" name="interest" value="Other"> Other</div>

                <hr>

                <!-- Dropdown -->
                <label class="fw-bold">Likelihood of Recommending</label>
                <select class="form-select" name="recommendation">
                    <option>Very Likely</option>
                    <option>Likely</option>
                    <option>Unlikely</option>
                </select>

                <hr>

                <!-- Raffle -->
                <label class="fw-bold">Raffle (Enter at least 10 comma-separated numbers 1â€“100)</label>
                <input type="text" name="raffle" class="form-control" placeholder="e.g. 5,12,33,45,67,89,23,90,10,2">

                <hr>

                <!-- Comments -->
                <label class="fw-bold">Additional Comments</label>
                <textarea class="form-control" name="comments" rows="4"></textarea>

                <hr>

                <!-- Buttons -->
                <div class="text-end">
                    <button type="submit" class="btn btn-success">Submit</button>
                    <button type="reset" class="btn btn-secondary">Cancel</button>
                </div>

            </form>

        </div>
    </div>
</div>

<!-- JavaScript -->
<script>
    // Navigation
    function goHome() {
        window.location.href = "index.html";
    }

    // Form Validation & Success Message
    document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("surveyForm");
        const email = document.getElementById("email");
        const successMessage = document.getElementById("successMessage");

        // Live email validation
        email.addEventListener("input", function () {
            if (email.checkValidity()) {
                email.classList.remove("is-invalid");
            } else {
                email.classList.add("is-invalid");
            }
        });

        // Form submission
        form.addEventListener("submit", function (event) {
            event.preventDefault();
            let isValid = true;

            // Check required fields
            const requiredFields = form.querySelectorAll("[required]");
            requiredFields.forEach(function (field) {
                if (!field.value.trim() || !field.checkValidity()) {
                    field.classList.add("is-invalid");
                    isValid = false;
                } else {
                    field.classList.remove("is-invalid");
                }
            });

            // If form is valid, show success message
            if (isValid) {
                successMessage.classList.remove("d-none");
                form.reset();
                const allFields = form.querySelectorAll(".is-invalid");
                allFields.forEach(field => field.classList.remove("is-invalid"));
                window.scrollTo({ top: 0, behavior: "smooth" });
            }
        });

        // Reset button behavior
        form.addEventListener("reset", function () {
            successMessage.classList.add("d-none");
            const allFields = form.querySelectorAll(".is-invalid");
            allFields.forEach(field => field.classList.remove("is-invalid"));
            window.scrollTo({ top: 0, behavior: "smooth" });
        });
    });
</script>

</body>
</html>
